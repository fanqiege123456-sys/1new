# 上传文件注意事项

## 自动过滤的文件

系统会自动跳过以下文件，因为 GitHub 不允许上传：

### ❌ `.git` 文件夹
- **原因**：`.git` 是 Git 的内部文件夹，包含版本控制信息
- **错误**：`path contains a malformed path component - Details: Commit.path: invalid`
- **解决**：系统会自动跳过所有 `.git` 文件夹中的文件

## 建议的上传方式

### 方式 1：只上传源代码（推荐）
**适合**：备份项目源代码
**排除**：
- `.git/` - Git 版本控制文件
- `node_modules/` - 依赖包（可以通过 package.json 重新安装）
- `dist/`, `build/` - 编译输出
- `.vscode/`, `.idea/` - IDE 配置

### 方式 2：使用 Git 命令行
**适合**：完整的版本控制
```bash
git init
git add .
git commit -m "Initial commit"
git remote add origin https://github.com/username/repo.git
git push -u origin main
```

### 方式 3：使用 GitNetDisk 上传
**适合**：快速备份文件
**限制**：
- 自动跳过 `.git` 文件夹
- 大量文件需要较长时间
- 受 GitHub API 速率限制（5000 请求/小时）

## 上传进度

系统会显示：
- ✅ 成功上传的文件数
- ❌ 失败的文件数
- ⏭️ 跳过的文件数（.git 文件）
- ⏱️ 总耗时

## 常见错误

### 1. `path contains a malformed path component`
**原因**：尝试上传 `.git` 文件夹
**解决**：系统已自动过滤，无需手动处理

### 2. `rate limit exceeded`
**原因**：超过 GitHub API 限制（5000 请求/小时）
**解决**：等待一小时后继续上传

### 3. 文件太大
**原因**：GitHub 单个文件限制 100MB
**解决**：使用 Git LFS 或分割文件

## 最佳实践

1. **小项目**（< 100 文件）：直接拖拽上传
2. **中型项目**（100-1000 文件）：排除 node_modules 等大文件夹
3. **大型项目**（> 1000 文件）：使用 Git 命令行

## 代理配置

### 检查代理是否工作
查看后端日志：
- ✅ `[INFO] Using proxy from subscription: http xxx.xxx.xxx.xxx 8080` - 代理已启用
- ⚠️ `[WARN] Failed to parse subscription` - 订阅解析失败，使用直连

### 订阅链接要求
- 必须是 Clash YAML 格式或 Base64 编码
- 必须包含 HTTP 或 SOCKS5 节点
- Shadowsocks、VMess、Trojan 等协议暂不支持

### 如果订阅解析失败
**方案 1**：使用本地代理软件
```
1. 启动 Clash
2. 在设置中输入：http://127.0.0.1:7890
```

**方案 2**：检查网络
- 如果能直接访问 GitHub，不需要代理
- 如果不能访问，需要配置有效的代理
