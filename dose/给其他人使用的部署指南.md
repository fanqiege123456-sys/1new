# GitNetDisk éƒ¨ç½²æŒ‡å— - è®©å…¶ä»–äººä½¿ç”¨

## å¿«é€Ÿéƒ¨ç½²ï¼ˆå…è´¹æ–¹æ¡ˆï¼‰

### ç¬¬ 1 æ­¥ï¼šéƒ¨ç½²åç«¯åˆ° Railway

1. **è®¿é—®** https://railway.app
2. **ç”¨ GitHub ç™»å½•**
3. **ç‚¹å‡» "New Project"**
4. **é€‰æ‹© "Deploy from GitHub repo"**
5. **æˆæƒè®¿é—®ä½ çš„ GitHub ä»“åº“**
6. **é€‰æ‹©ä½ çš„ä»“åº“**
7. **Railway ä¼šè‡ªåŠ¨æ£€æµ‹ Go é¡¹ç›®**
8. **ç­‰å¾…éƒ¨ç½²å®Œæˆ**ï¼ˆçº¦ 2-3 åˆ†é’Ÿï¼‰
9. **ç‚¹å‡»é¡¹ç›® â†’ Settings â†’ Generate Domain**
10. **å¤åˆ¶ç”Ÿæˆçš„åŸŸå**ï¼ˆå¦‚ `https://git-net-disk-production.up.railway.app`ï¼‰

### ç¬¬ 2 æ­¥ï¼šé…ç½®å‰ç«¯ç¯å¢ƒå˜é‡

ç¼–è¾‘ `git-web/.env.production` æ–‡ä»¶ï¼š

```env
VITE_API_URL=https://ä½ çš„railwayåŸŸå.up.railway.app
```

ä¾‹å¦‚ï¼š
```env
VITE_API_URL=https://git-net-disk-production.up.railway.app
```

### ç¬¬ 3 æ­¥ï¼šé‡æ–°æ„å»ºå‰ç«¯

```bash
cd git-web
npm run build
```

### ç¬¬ 4 æ­¥ï¼šéƒ¨ç½²å‰ç«¯åˆ° Vercel

**æ–¹æ³• Aï¼šä½¿ç”¨å‘½ä»¤è¡Œï¼ˆæ¨èï¼‰**

```bash
# å®‰è£… Vercel CLI
npm install -g vercel

# ç™»å½• Vercel
vercel login

# éƒ¨ç½²
cd git-web
vercel --prod
```

æŒ‰æç¤ºæ“ä½œï¼š
1. é€‰æ‹© "Set up and deploy"
2. é¡¹ç›®åç§°ï¼š`gitnetdisk`
3. ç­‰å¾…éƒ¨ç½²å®Œæˆ
4. è·å¾—ç½‘å€ï¼ˆå¦‚ `https://gitnetdisk.vercel.app`ï¼‰

**æ–¹æ³• Bï¼šä½¿ç”¨ç½‘é¡µï¼ˆæ›´ç®€å•ï¼‰**

1. è®¿é—® https://vercel.com
2. ç”¨ GitHub ç™»å½•
3. ç‚¹å‡» "Add New" â†’ "Project"
4. é€‰æ‹©ä½ çš„ GitHub ä»“åº“
5. é…ç½®ï¼š
   - Framework Preset: `Vite`
   - Root Directory: `git-web`
   - Build Command: `npm run build`
   - Output Directory: `dist`
6. æ·»åŠ ç¯å¢ƒå˜é‡ï¼š
   - Name: `VITE_API_URL`
   - Value: `https://ä½ çš„railwayåŸŸå.up.railway.app`
7. ç‚¹å‡» "Deploy"
8. ç­‰å¾…éƒ¨ç½²å®Œæˆï¼ˆçº¦ 1-2 åˆ†é’Ÿï¼‰

### ç¬¬ 5 æ­¥ï¼šåˆ†äº«ç»™å…¶ä»–äºº

éƒ¨ç½²å®Œæˆåï¼Œä½ ä¼šå¾—åˆ°ä¸€ä¸ªç½‘å€ï¼Œä¾‹å¦‚ï¼š
```
https://gitnetdisk.vercel.app
```

**ç›´æ¥æŠŠè¿™ä¸ªç½‘å€å‘ç»™å…¶ä»–äººå°±å¯ä»¥äº†ï¼**

ä»–ä»¬å¯ä»¥ï¼š
- âœ… åœ¨æµè§ˆå™¨ç›´æ¥ä½¿ç”¨
- âœ… å®‰è£…åˆ°æ¡Œé¢ï¼ˆChrome åœ°å€æ å³ä¾§ç‚¹å‡»å®‰è£…ï¼‰
- âœ… å®‰è£…åˆ°æ‰‹æœºï¼ˆæµè§ˆå™¨æç¤ºæ·»åŠ åˆ°ä¸»å±å¹•ï¼‰

## ä½¿ç”¨è¯´æ˜ï¼ˆç»™ç”¨æˆ·ï¼‰

### 1. è·å– GitHub Token

1. è®¿é—® https://github.com/settings/tokens
2. ç‚¹å‡» "Generate new token (classic)"
3. å‹¾é€‰ `repo` æƒé™
4. ç”Ÿæˆå¹¶å¤åˆ¶ Token

### 2. ç™»å½•åº”ç”¨

1. æ‰“å¼€ `https://ä½ çš„åŸŸå.vercel.app`
2. è¾“å…¥ GitHub Token
3. ç‚¹å‡»ç™»å½•

### 3. ä½¿ç”¨åŠŸèƒ½

- æŸ¥çœ‹ä»“åº“åˆ—è¡¨
- åˆ›å»ºæ–°ä»“åº“
- ä¸Šä¼ æ–‡ä»¶/æ–‡ä»¶å¤¹
- ä¸‹è½½æ–‡ä»¶
- åˆ é™¤æ–‡ä»¶

### 4. å®‰è£…åˆ°æ¡Œé¢/æ‰‹æœº

**æ¡Œé¢ï¼ˆChrome/Edgeï¼‰**ï¼š
- åœ°å€æ å³ä¾§ç‚¹å‡»å®‰è£…å›¾æ ‡

**æ‰‹æœºï¼ˆiOSï¼‰**ï¼š
- Safari â†’ åˆ†äº« â†’ æ·»åŠ åˆ°ä¸»å±å¹•

**æ‰‹æœºï¼ˆAndroidï¼‰**ï¼š
- Chrome ä¼šè‡ªåŠ¨æç¤ºå®‰è£…

## æ–¹æ¡ˆ 2ï¼šä½¿ç”¨è‡ªå·±çš„æœåŠ¡å™¨

å¦‚æœä½ æœ‰è‡ªå·±çš„æœåŠ¡å™¨ï¼š

### åç«¯éƒ¨ç½²

```bash
# ç¼–è¯‘
cd git-net-disk
go build -o gitnetdisk main.go

# ä¸Šä¼ åˆ°æœåŠ¡å™¨
scp gitnetdisk user@your-server:/opt/gitnetdisk/

# SSH åˆ°æœåŠ¡å™¨è¿è¡Œ
ssh user@your-server
cd /opt/gitnetdisk
nohup ./gitnetdisk > gitnetdisk.log 2>&1 &
```

### å‰ç«¯éƒ¨ç½²

```bash
# æ„å»º
cd git-web
npm run build

# ä¸Šä¼ åˆ°æœåŠ¡å™¨
scp -r dist/* user@your-server:/var/www/gitnetdisk/

# é…ç½® Nginx
server {
    listen 80;
    server_name your-domain.com;
    root /var/www/gitnetdisk;
    index index.html;
    
    location / {
        try_files $uri $uri/ /index.html;
    }
}
```

## æ–¹æ¡ˆ 3ï¼šDocker éƒ¨ç½²

### åç«¯ Docker

```bash
cd git-net-disk
docker build -t gitnetdisk-backend .
docker run -d -p 3000:3000 --name gitnetdisk-backend gitnetdisk-backend
```

### å‰ç«¯ Docker

åˆ›å»º `git-web/Dockerfile`ï¼š

```dockerfile
FROM node:20-alpine AS builder
WORKDIR /app
COPY package*.json ./
RUN npm install
COPY . .
RUN npm run build

FROM nginx:alpine
COPY --from=builder /app/dist /usr/share/nginx/html
EXPOSE 80
CMD ["nginx", "-g", "daemon off;"]
```

æ„å»ºå¹¶è¿è¡Œï¼š

```bash
cd git-web
docker build -t gitnetdisk-frontend .
docker run -d -p 80:80 --name gitnetdisk-frontend gitnetdisk-frontend
```

## æˆæœ¬å¯¹æ¯”

| æ–¹æ¡ˆ | å‰ç«¯ | åç«¯ | æœˆæˆæœ¬ |
|------|------|------|--------|
| Vercel + Railway | å…è´¹ | å…è´¹ | $0 |
| Vercel + äº‘æœåŠ¡å™¨ | å…è´¹ | $5-10 | $5-10 |
| è‡ªå·±æœåŠ¡å™¨ | è‡ªæ‰˜ç®¡ | è‡ªæ‰˜ç®¡ | $10-20 |
| Vercel Pro + Railway | $20 | å…è´¹ | $20 |

## åŸŸåé…ç½®ï¼ˆå¯é€‰ï¼‰

å¦‚æœæƒ³ç”¨è‡ªå·±çš„åŸŸåï¼ˆå¦‚ `gitnetdisk.com`ï¼‰ï¼š

### Vercel é…ç½®

1. åœ¨ Vercel é¡¹ç›®è®¾ç½®ä¸­
2. ç‚¹å‡» "Domains"
3. æ·»åŠ ä½ çš„åŸŸå
4. æŒ‰æç¤ºé…ç½® DNS

### Railway é…ç½®

1. åœ¨ Railway é¡¹ç›®è®¾ç½®ä¸­
2. ç‚¹å‡» "Settings" â†’ "Domains"
3. æ·»åŠ è‡ªå®šä¹‰åŸŸå
4. é…ç½® DNS CNAME è®°å½•

## ç›‘æ§å’Œç»´æŠ¤

### æŸ¥çœ‹æ—¥å¿—

**Railway**ï¼š
- é¡¹ç›®é¡µé¢ â†’ "Deployments" â†’ ç‚¹å‡»æœ€æ–°éƒ¨ç½² â†’ "View Logs"

**Vercel**ï¼š
- é¡¹ç›®é¡µé¢ â†’ "Deployments" â†’ ç‚¹å‡»æœ€æ–°éƒ¨ç½² â†’ "View Function Logs"

### æ›´æ–°åº”ç”¨

```bash
# 1. æ›´æ–°ä»£ç 
git pull

# 2. é‡æ–°æ„å»ºå‰ç«¯
cd git-web
npm run build

# 3. é‡æ–°éƒ¨ç½²
vercel --prod

# Railway ä¼šè‡ªåŠ¨æ£€æµ‹ Git æ¨é€å¹¶é‡æ–°éƒ¨ç½²åç«¯
```

## å¸¸è§é—®é¢˜

### Q: éƒ¨ç½²åæ— æ³•è®¿é—®ï¼Ÿ
A: æ£€æŸ¥ï¼š
1. Railway åç«¯æ˜¯å¦éƒ¨ç½²æˆåŠŸ
2. `.env.production` ä¸­çš„åç«¯åœ°å€æ˜¯å¦æ­£ç¡®
3. CORS é…ç½®æ˜¯å¦æ­£ç¡®

### Q: ç”¨æˆ·æ— æ³•ç™»å½•ï¼Ÿ
A: ç¡®ä¿ï¼š
1. ç”¨æˆ·çš„ Token æœ‰ `repo` æƒé™
2. åç«¯æœåŠ¡æ­£å¸¸è¿è¡Œ
3. ç½‘ç»œå¯ä»¥è®¿é—® GitHub API

### Q: æ‰‹æœºä¸Šæ— æ³•å®‰è£…ï¼Ÿ
A: 
1. ç¡®ä¿ä½¿ç”¨ HTTPSï¼ˆVercel è‡ªåŠ¨æä¾›ï¼‰
2. iOS éœ€è¦æ‰‹åŠ¨æ·»åŠ ï¼ˆSafari åˆ†äº«èœå•ï¼‰
3. Android ä¼šè‡ªåŠ¨æç¤º

### Q: å¦‚ä½•é™åˆ¶è®¿é—®ï¼Ÿ
A: å¯ä»¥æ·»åŠ ï¼š
1. ç”¨æˆ·ç™½åå•
2. è®¿é—®å¯†ç 
3. OAuth ç™»å½•

## æ€»ç»“

**æ¨èæ–¹æ¡ˆ**ï¼šVercel + Railwayï¼ˆå…è´¹ï¼‰

**æ­¥éª¤**ï¼š
1. âœ… Railway éƒ¨ç½²åç«¯ï¼ˆ5 åˆ†é’Ÿï¼‰
2. âœ… é…ç½® `.env.production`ï¼ˆ1 åˆ†é’Ÿï¼‰
3. âœ… Vercel éƒ¨ç½²å‰ç«¯ï¼ˆ5 åˆ†é’Ÿï¼‰
4. âœ… åˆ†äº«ç½‘å€ç»™å…¶ä»–äºº

**æ€»æ—¶é—´**ï¼šçº¦ 15 åˆ†é’Ÿ
**æ€»æˆæœ¬**ï¼š$0

éƒ¨ç½²å®Œæˆåï¼Œä»»ä½•äººéƒ½å¯ä»¥é€šè¿‡ç½‘å€è®¿é—®ä½ çš„åº”ç”¨ï¼ğŸ‰
