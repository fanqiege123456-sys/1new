# GitNetDisk å¿«é€Ÿæ‰“åŒ…æŒ‡å—

## å½“å‰çŠ¶æ€

âœ… PWA æ’ä»¶å·²å®‰è£…
âœ… vite.config.ts å·²é…ç½®
âœ… å›¾æ ‡æ¨¡æ¿å·²åˆ›å»º

## æ‰“åŒ…æ­¥éª¤

### ç¬¬ 1 æ­¥ï¼šç”Ÿæˆ PWA å›¾æ ‡

**é€‰é¡¹ Aï¼šåœ¨çº¿ç”Ÿæˆï¼ˆæ¨èï¼Œæœ€ç®€å•ï¼‰**

1. è®¿é—®ï¼šhttps://www.pwabuilder.com/imageGenerator
2. ä¸Šä¼  `git-web/public/icon.svg`
3. ä¸‹è½½ç”Ÿæˆçš„å›¾æ ‡
4. å°†ä»¥ä¸‹æ–‡ä»¶æ”¾åˆ° `git-web/public/` ç›®å½•ï¼š
   - `pwa-192x192.png`
   - `pwa-512x512.png`
   - `apple-touch-icon.png`

**é€‰é¡¹ Bï¼šä½¿ç”¨å‘½ä»¤è¡Œ**

```bash
# å®‰è£… sharp-cli
npm install -g sharp-cli

# è¿›å…¥ public ç›®å½•
cd git-web/public

# ç”Ÿæˆå›¾æ ‡
npx sharp -i icon.svg -o pwa-192x192.png resize 192 192
npx sharp -i icon.svg -o pwa-512x512.png resize 512 512
npx sharp -i icon.svg -o apple-touch-icon.png resize 180 180
```

**é€‰é¡¹ Cï¼šä¸´æ—¶æµ‹è¯•ï¼ˆå¿«é€Ÿï¼‰**

å¦‚æœåªæ˜¯æƒ³å¿«é€Ÿæµ‹è¯•ï¼Œå¯ä»¥ï¼š
1. æ‰¾ä»»æ„ä¸€å¼  PNG å›¾ç‰‡
2. å¤åˆ¶ 3 ä»½å¹¶é‡å‘½åä¸ºä¸Šè¿°æ–‡ä»¶å
3. æ”¾åˆ° `git-web/public/` ç›®å½•

### ç¬¬ 2 æ­¥ï¼šæ„å»ºå‰ç«¯

```bash
cd git-web
npm run build
```

æ„å»ºå®Œæˆåï¼Œä¼šåœ¨ `git-web/dist` ç›®å½•ç”Ÿæˆæ‰€æœ‰æ–‡ä»¶ã€‚

### ç¬¬ 3 æ­¥ï¼šæµ‹è¯• PWA

```bash
# é¢„è§ˆæ„å»ºç»“æœ
npm run preview
```

æ‰“å¼€æµè§ˆå™¨è®¿é—®æ˜¾ç¤ºçš„åœ°å€ï¼ˆé€šå¸¸æ˜¯ http://localhost:4173ï¼‰

### ç¬¬ 4 æ­¥ï¼šåœ¨æ‰‹æœºä¸Šæµ‹è¯•

**æ–¹æ³• 1ï¼šä½¿ç”¨å±€åŸŸç½‘**

1. ç¡®ä¿æ‰‹æœºå’Œç”µè„‘åœ¨åŒä¸€ WiFi
2. è¿è¡Œ `npm run preview`
3. æŸ¥çœ‹è¾“å‡ºçš„ Network åœ°å€ï¼ˆå¦‚ http://192.168.1.8:4173ï¼‰
4. åœ¨æ‰‹æœºæµè§ˆå™¨æ‰“å¼€è¿™ä¸ªåœ°å€
5. æµè§ˆå™¨ä¼šæç¤º"æ·»åŠ åˆ°ä¸»å±å¹•"
6. ç‚¹å‡»æ·»åŠ ï¼Œå›¾æ ‡ä¼šå‡ºç°åœ¨æ¡Œé¢

**æ–¹æ³• 2ï¼šéƒ¨ç½²åˆ°æœåŠ¡å™¨**

PWA éœ€è¦ HTTPS æ‰èƒ½å®Œæ•´å·¥ä½œï¼Œå»ºè®®éƒ¨ç½²åˆ°ï¼š
- Vercelï¼ˆå…è´¹ï¼Œæ¨èï¼‰
- Netlifyï¼ˆå…è´¹ï¼‰
- GitHub Pagesï¼ˆå…è´¹ï¼‰

## éƒ¨ç½²åˆ° Vercelï¼ˆæ¨èï¼‰

### å®‰è£… Vercel CLI

```bash
npm install -g vercel
```

### éƒ¨ç½²

```bash
cd git-web
vercel
```

æŒ‰æç¤ºæ“ä½œï¼š
1. ç™»å½• Vercel è´¦å·
2. é€‰æ‹©é¡¹ç›®è®¾ç½®
3. ç­‰å¾…éƒ¨ç½²å®Œæˆ
4. è·å¾— HTTPS ç½‘å€

### åœ¨æ‰‹æœºä¸Šå®‰è£…

1. ç”¨æ‰‹æœºæµè§ˆå™¨æ‰“å¼€ Vercel ç»™çš„ç½‘å€
2. ç‚¹å‡»æµè§ˆå™¨èœå•ä¸­çš„"æ·»åŠ åˆ°ä¸»å±å¹•"
3. å®Œæˆï¼ç°åœ¨å¯ä»¥åƒåŸç”Ÿ APP ä¸€æ ·ä½¿ç”¨

## éƒ¨ç½²åç«¯

### æ–¹æ³• 1ï¼šä½¿ç”¨ Railwayï¼ˆæœ€ç®€å•ï¼‰

1. è®¿é—® https://railway.app
2. ç”¨ GitHub ç™»å½•
3. ç‚¹å‡» "New Project" â†’ "Deploy from GitHub repo"
4. é€‰æ‹©ä½ çš„ä»“åº“
5. é€‰æ‹© `git-net-disk` ç›®å½•
6. Railway ä¼šè‡ªåŠ¨æ£€æµ‹ Go é¡¹ç›®å¹¶éƒ¨ç½²
7. è·å¾—åç«¯ API åœ°å€

### æ–¹æ³• 2ï¼šä½¿ç”¨ Docker

```bash
cd git-net-disk

# æ„å»ºé•œåƒ
docker build -t gitnetdisk-backend .

# è¿è¡Œå®¹å™¨
docker run -d -p 3000:3000 --name gitnetdisk gitnetdisk-backend
```

### æ–¹æ³• 3ï¼šç›´æ¥ç¼–è¯‘è¿è¡Œ

```bash
cd git-net-disk

# ç¼–è¯‘
go build -o gitnetdisk.exe main.go

# è¿è¡Œ
./gitnetdisk.exe
```

## é…ç½®å‰åç«¯è¿æ¥

### å¼€å‘ç¯å¢ƒ

å‰ç«¯é»˜è®¤è¿æ¥ `http://localhost:3000`

### ç”Ÿäº§ç¯å¢ƒ

åˆ›å»º `git-web/.env.production`ï¼š

```env
VITE_API_URL=https://your-backend-url.com
```

ç„¶åé‡æ–°æ„å»ºï¼š

```bash
npm run build
```

## å®Œæ•´éƒ¨ç½²æµç¨‹ï¼ˆæ¨èï¼‰

### 1. ç”Ÿæˆå›¾æ ‡

```bash
# è®¿é—® https://www.pwabuilder.com/imageGenerator
# ä¸Šä¼  icon.svgï¼Œä¸‹è½½å›¾æ ‡åˆ° public/
```

### 2. æ„å»ºå‰ç«¯

```bash
cd git-web
npm run build
```

### 3. éƒ¨ç½²å‰ç«¯åˆ° Vercel

```bash
vercel --prod
```

### 4. éƒ¨ç½²åç«¯åˆ° Railway

```bash
# åœ¨ Railway ç½‘ç«™æ“ä½œï¼Œè¿æ¥ GitHub ä»“åº“
```

### 5. æ›´æ–°å‰ç«¯ API åœ°å€

ç¼–è¾‘ `git-web/.env.production`ï¼š
```env
VITE_API_URL=https://your-railway-backend.up.railway.app
```

### 6. é‡æ–°éƒ¨ç½²å‰ç«¯

```bash
vercel --prod
```

### 7. åœ¨æ‰‹æœºä¸Šå®‰è£…

æ‰“å¼€ Vercel ç»™çš„ç½‘å€ï¼Œç‚¹å‡»"æ·»åŠ åˆ°ä¸»å±å¹•"

## æµ‹è¯•æ¸…å•

éƒ¨ç½²å®Œæˆåï¼Œæµ‹è¯•ä»¥ä¸‹åŠŸèƒ½ï¼š

- [ ] æ‰“å¼€ç½‘ç«™
- [ ] ç™»å½• GitHub
- [ ] æŸ¥çœ‹ä»“åº“åˆ—è¡¨
- [ ] åˆ›å»ºæ–°ä»“åº“
- [ ] ä¸Šä¼ æ–‡ä»¶
- [ ] ä¸‹è½½æ–‡ä»¶
- [ ] åˆ é™¤æ–‡ä»¶
- [ ] ä»£ç†è®¾ç½®ï¼ˆå¦‚æœéœ€è¦ï¼‰
- [ ] æ‰‹æœºä¸Šæ·»åŠ åˆ°ä¸»å±å¹•
- [ ] æ‰‹æœºä¸Šæ‰“å¼€ APP
- [ ] ç¦»çº¿æ—¶æ‰“å¼€ APPï¼ˆä¼šæ˜¾ç¤ºç¼“å­˜çš„å†…å®¹ï¼‰

## å¸¸è§é—®é¢˜

### Q: å›¾æ ‡ä¸æ˜¾ç¤ºï¼Ÿ
A: ç¡®ä¿å›¾æ ‡æ–‡ä»¶åæ­£ç¡®ï¼Œä¸”æ”¾åœ¨ `public/` ç›®å½•

### Q: æ‰‹æœºä¸Šæ²¡æœ‰"æ·»åŠ åˆ°ä¸»å±å¹•"æç¤ºï¼Ÿ
A: 
1. ç¡®ä¿ä½¿ç”¨ HTTPSï¼ˆæœ¬åœ°æµ‹è¯•é™¤å¤–ï¼‰
2. iOS éœ€è¦åœ¨ Safari ä¸­æ‰‹åŠ¨æ·»åŠ ï¼ˆåˆ†äº« â†’ æ·»åŠ åˆ°ä¸»å±å¹•ï¼‰
3. Android ä¼šè‡ªåŠ¨æç¤º

### Q: PWA å®‰è£…åæ‰“ä¸å¼€ï¼Ÿ
A: æ£€æŸ¥ `manifest.json` ä¸­çš„ `start_url` æ˜¯å¦æ­£ç¡®

### Q: åç«¯è¿æ¥å¤±è´¥ï¼Ÿ
A: 
1. æ£€æŸ¥ CORS é…ç½®
2. ç¡®è®¤åç«¯åœ°å€æ­£ç¡®
3. æŸ¥çœ‹æµè§ˆå™¨æ§åˆ¶å°é”™è¯¯ä¿¡æ¯

### Q: ä»£ç†è®¾ç½®ä¸ç”Ÿæ•ˆï¼Ÿ
A: 
1. ç¡®ä¿ Clash åœ¨è¿è¡Œ
2. ä»£ç†åœ°å€è®¾ç½®ä¸º `http://127.0.0.1:7890`
3. å¦‚æœæ˜¯æ‰‹æœºï¼Œéœ€è¦è®¾ç½®ä¸ºç”µè„‘çš„å±€åŸŸç½‘ IP

## æˆæœ¬ä¼°ç®—

### å…è´¹æ–¹æ¡ˆ
- å‰ç«¯ï¼šVercelï¼ˆå…è´¹ï¼‰
- åç«¯ï¼šRailwayï¼ˆå…è´¹é¢åº¦ $5/æœˆï¼‰
- æ€»è®¡ï¼š**å…è´¹**

### ä»˜è´¹æ–¹æ¡ˆ
- å‰ç«¯ï¼šVercel Proï¼ˆ$20/æœˆï¼‰
- åç«¯ï¼šRailway Proï¼ˆ$20/æœˆï¼‰
- åŸŸåï¼š$10/å¹´
- æ€»è®¡ï¼š**$40/æœˆ + $10/å¹´**

## ä¸‹ä¸€æ­¥

1. **ç”Ÿæˆå›¾æ ‡**ï¼šä½¿ç”¨åœ¨çº¿å·¥å…·æˆ–å‘½ä»¤è¡Œ
2. **æ„å»ºé¡¹ç›®**ï¼š`npm run build`
3. **æœ¬åœ°æµ‹è¯•**ï¼š`npm run preview`
4. **éƒ¨ç½²ä¸Šçº¿**ï¼šVercel + Railway
5. **æ‰‹æœºå®‰è£…**ï¼šæ·»åŠ åˆ°ä¸»å±å¹•

å®Œæˆè¿™äº›æ­¥éª¤åï¼Œä½ å°±æœ‰äº†ä¸€ä¸ªå¯ä»¥åœ¨ Web å’Œç§»åŠ¨ç«¯ä½¿ç”¨çš„ APPï¼ğŸš€

## è¿›é˜¶ï¼šæ‰“åŒ…æˆåŸç”Ÿ APP

å¦‚æœéœ€è¦ä¸Šæ¶åº”ç”¨å•†åº—ï¼Œå¯ä»¥ä½¿ç”¨ Capacitorï¼š

```bash
# å®‰è£… Capacitor
npm install @capacitor/core @capacitor/cli
npm install @capacitor/android @capacitor/ios

# åˆå§‹åŒ–
npx cap init

# æ„å»ºå‰ç«¯
npm run build

# æ·»åŠ å¹³å°
npx cap add android
npx cap add ios

# æ‰“å¼€ Android Studio
npx cap open android

# æ‰“å¼€ Xcode (Mac only)
npx cap open ios
```

è¯¦ç»†æ­¥éª¤å‚è€ƒ `dose/APPæ‰“åŒ…éƒ¨ç½²æŒ‡å—.md`
